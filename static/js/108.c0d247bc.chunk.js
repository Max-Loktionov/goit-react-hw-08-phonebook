"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[108],{1108:function(n,e,t){t.r(e),t.d(e,{default:function(){return U}});var r=t(5048),a=t(3329);var o=function(n){var e=n.title,t=n.children;return(0,a.jsxs)("div",{children:[e&&(0,a.jsx)("h2",{children:e}),t]})},i=t(3649),d=t(885),c=t(2791),s=t(5264),l=t(8748),u=t(7154);function h(){var n=(0,i.wY)().data,e=(0,i.Tn)(),t=(0,d.Z)(e,2),r=t[0],o=t[1].isLoading,h=(0,c.useState)(""),p=(0,d.Z)(h,2),m=p[0],f=p[1],x=(0,c.useState)(""),b=(0,d.Z)(x,2),g=b[0],v=b[1];return(0,a.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),null!==n&&void 0!==n&&n.find((function(n){return n.name.toLowerCase()===m.toLowerCase()})))?s.Notify.failure("".concat(m," is already in contacts")):null!==n&&void 0!==n&&n.find((function(n){return n.number===g}))?s.Notify.failure("this number: ".concat(g," is in, you dont want to add one more time.")):(r({name:m,number:g}),s.Notify.success("".concat(m," has added to contacts successfully")),f(""),v(""))},children:[(0,a.jsxs)(u.__,{htmlFor:"nameInputId",children:["Name",(0,a.jsx)(u.II,{value:m,onChange:function(n){return f(n.target.value)},type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:"nameInputId"})]}),(0,a.jsxs)(u.__,{htmlFor:"numberInputId",children:["Number",(0,a.jsx)(u.II,{value:g,onChange:function(n){return v(n.target.value)},id:"numberInputId",placeholder:"Number",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,a.jsx)(u.k4,{type:"submit",disabled:o,children:o?(0,a.jsx)(l.iT,{ariaLabel:"loading-indicator",height:16,width:48,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Add contact"})]})}var p,m,f,x,b,g,v,y,j=t(5861),Z=t(7757),w=t.n(Z),C=t(4164),k=t(168),N=t(6031),I=N.ZP.div(p||(p=(0,k.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 10;\n"]))),P=N.ZP.div(m||(m=(0,k.Z)(["\n  /* display: flex; */\n  padding: 40px;\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n  background-color: #a7a55b;\n"]))),S=N.ZP.button(f||(f=(0,k.Z)(["\n  display: block;\n  margin: 24px auto 0;\n  padding: 4px 8px;\n  border-radius: 10px;\n  cursor: pointer;\n  background-color: #000000a6;\n  font-size: 14px;\n  color: #fff;\n  :hover,\n  :focus {\n    outline: 2px solid #fff;\n  }\n"]))),_=document.querySelector("#modal-root"),z=function(n){var e=n.children,t=n.onClose;(0,c.useEffect)((function(){var n=function(n){"Escape"===n.code&&t()};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}));return(0,C.createPortal)((0,a.jsx)(I,{onClick:function(n){n.currentTarget===n.target&&t()},children:(0,a.jsxs)(P,{children:[(0,a.jsx)("div",{children:e}),(0,a.jsx)(S,{type:"button",onClick:t,children:"Close"})]})}),_)},A=N.ZP.label(x||(x=(0,k.Z)(["\n  color: #f8e3e0;\n"]))),L=N.ZP.input(b||(b=(0,k.Z)(["\n  margin-left: 24px;\n  margin-right: auto;\n  margin-bottom: 24px;\n  padding: 3px;\n  border: 2px solid transparent;\n  border-radius: 12px;\n  caret-color: green;\n  :hover,\n  :focus {\n    border: 2px solid #91b291;\n    outline: 1px solid green;\n  }\n"]))),F=N.ZP.button(g||(g=(0,k.Z)(["\n  margin-left: auto;\n  /* margin-right: 24px; */\n  padding: 4px;\n  border-radius: 10px;\n  cursor: pointer;\n  background-color: #000000a6;\n  font-size: 14px;\n  color: #fff;\n  :hover,\n  :focus {\n    outline: 2px solid #fff;\n  }\n"]))),T=N.ZP.li(v||(v=(0,k.Z)(["\n  display: flex;\n  margin: 12px;\n  border-bottom: 1px dashed #000000a6;\n"]))),W=N.ZP.form(y||(y=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n"])));var q,E,M=function(n){var e=n.name,t=n.number,r=n.id,o=(0,i.Nt)(),u=(0,d.Z)(o,2),h=u[0],p=u[1].isLoading,m=(0,i.wv)(),f=(0,d.Z)(m,2),x=f[0],b=f[1],g=(0,c.useState)(!1),v=(0,d.Z)(g,2),y=v[0],Z=v[1],C=(0,c.useState)(e),k=(0,d.Z)(C,2),N=k[0],I=k[1],P=(0,c.useState)(t),S=(0,d.Z)(P,2),_=S[0],q=S[1],E=function(){return Z(!1)},M=function(){var n=(0,j.Z)(w().mark((function n(t){var a;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.prev=1,a={name:N,number:_},n.next=5,x({contact:a,id:r});case 5:b.isSuccess||(s.Notify.success("contact ".concat(e," has changed successfully")),E()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}();return(0,a.jsxs)(T,{children:[e,": ",t,(0,a.jsx)(F,{type:"button",onClick:function(){return Z(!0)},children:"Update"}),(0,a.jsx)(F,{type:"button",disabled:p,onClick:function(){return h(r)},children:p?(0,a.jsx)(l.iT,{ariaLabel:"loading-indicator",height:10,width:16,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Delete"}),y&&(0,a.jsx)(z,{onClose:E,children:(0,a.jsxs)(W,{onSubmit:M,children:[(0,a.jsxs)(A,{htmlFor:"name",children:["Name",(0,a.jsx)(L,{value:N,onChange:function(n){return I(n.target.value)},type:"text",name:"name",placeholder:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:"name"})]}),(0,a.jsxs)(A,{htmlFor:"number",children:["Number",(0,a.jsx)(L,{value:_,onChange:function(n){return q(n.target.value)},id:"number",placeholder:t,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,a.jsx)(F,{type:"submit",disabled:p,children:p?(0,a.jsx)(l.iT,{ariaLabel:"loading-indicator",height:16,width:48,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Change contact"})]})})]})},$=function(n){var e=n.data,t=(0,c.useMemo)((function(){var n=e.slice();return n.sort((function(n,e){return n.name.localeCompare(e.name)})),n}),[e]);return(0,a.jsx)("ul",{children:t.map((function(n){return(0,a.jsx)(M,{name:n.name,number:n.number,id:n.id},n.id)}))})},D=N.ZP.label(q||(q=(0,k.Z)(["\n  color: #f8e3e0;\n  margin-right: 24px;\n"]))),B=N.ZP.input(E||(E=(0,k.Z)(["\n  margin-right: 24px;\n  margin-bottom: 24px;\n"]))),J=t(6895),Y=function(){var n=(0,r.I0)(),e=(0,r.v9)(J.$N);return(0,a.jsx)("div",{children:(0,a.jsxs)(D,{htmlFor:"filterId",children:[(0,a.jsx)(B,{name:"filter",value:e,onChange:function(e){n((0,J.M6)(e.currentTarget.value))},id:"filterId",type:"text"}),"Find contacts by name"]})})},U=function(){var n=(0,i.wY)().data,e=(0,r.v9)(J.$N);return(0,a.jsxs)("div",{children:[(0,a.jsx)(o,{title:"Phonebook",children:(0,a.jsx)(h,{})}),(null===n||void 0===n?void 0:n.length)>0&&(0,a.jsxs)(o,{title:"Contacts",children:[(0,a.jsx)(Y,{}),n.length>0?(0,a.jsx)($,{data:function(){if(""===e)return n;var t=e.toLowerCase().trim();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))}()}):(0,a.jsx)("p",{children:"No any contact"})]})]})}}}]);
//# sourceMappingURL=108.c0d247bc.chunk.js.map