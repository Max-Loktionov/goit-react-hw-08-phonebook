"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[367],{4367:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var r=t(5048),a=t(3329);var o=function(n){var e=n.title,t=n.children;return(0,a.jsxs)("div",{children:[e&&(0,a.jsx)("h2",{children:e}),t]})},i=t(3649),s=t(885),d=t(2791),c=t(5264),l=t(8748),u=t(6289);function h(){var n=(0,i.wY)().data,e=(0,i.Tn)(),t=(0,s.Z)(e,2),r=t[0],o=t[1].isLoading,h=(0,d.useState)(""),p=(0,s.Z)(h,2),m=p[0],f=p[1],x=(0,d.useState)(""),b=(0,s.Z)(x,2),g=b[0],v=b[1];return(0,a.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),null!==n&&void 0!==n&&n.find((function(n){return n.name.toLowerCase()===m.toLowerCase()})))?c.Notify.failure("".concat(m," is already in contacts")):null!==n&&void 0!==n&&n.find((function(n){return n.number===g}))?c.Notify.failure("this number: ".concat(g," is in, you dont want to add one more time.")):(r({name:m,number:g}),c.Notify.success("".concat(m," has added to contacts successfully")),f(""),v(""))},children:[(0,a.jsxs)(u.__,{htmlFor:"nameInputId",children:["Name",(0,a.jsx)(u.II,{value:m,onChange:function(n){return f(n.target.value)},type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:"nameInputId"})]}),(0,a.jsxs)(u.__,{htmlFor:"numberInputId",children:["Number",(0,a.jsx)(u.II,{value:g,onChange:function(n){return v(n.target.value)},id:"numberInputId",placeholder:"Number",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,a.jsx)(u.k4,{type:"submit",disabled:o,children:o?(0,a.jsx)(l.iT,{ariaLabel:"loading-indicator",height:16,width:48,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Add contact"})]})}var p,m,f,x,b,g,v,y,j=t(5861),Z=t(7757),w=t.n(Z),C=t(4164),k=t(168),N=t(6031),I=N.ZP.div(p||(p=(0,k.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 10;\n"]))),P=N.ZP.div(m||(m=(0,k.Z)(["\n  padding: 40px;\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n  background-color: #a7a55b;\n"]))),L=N.ZP.button(f||(f=(0,k.Z)(["\n  display: block;\n  margin: 24px auto 0;\n  padding: 4px 8px;\n  border-radius: 10px;\n  cursor: pointer;\n  background-color: #000000a6;\n  font-size: 14px;\n  color: #fff;\n  :hover,\n  :focus {\n    outline: 2px solid #fff;\n  }\n"]))),S=document.querySelector("#modal-root"),_=function(n){var e=n.children,t=n.onClose;return(0,C.createPortal)((0,a.jsx)(I,{children:(0,a.jsxs)(P,{children:[(0,a.jsx)("div",{children:e}),(0,a.jsx)(L,{type:"button",onClick:t,children:"Cancel"})]})}),S)},z=N.ZP.label(x||(x=(0,k.Z)(["\n  color: #f8e3e0;\n"]))),A=N.ZP.input(b||(b=(0,k.Z)(["\n  margin-left: 24px;\n  margin-right: auto;\n  margin-bottom: 24px;\n  padding: 3px;\n  border: 2px solid transparent;\n  border-radius: 12px;\n  caret-color: green;\n  :hover,\n  :focus {\n    border: 2px solid #91b291;\n    outline: 1px solid green;\n  }\n"]))),F=N.ZP.button(g||(g=(0,k.Z)(["\n  margin-left: auto;\n  padding: 4px;\n  border-radius: 10px;\n  cursor: pointer;\n  background-color: #000000a6;\n  font-size: 14px;\n  color: #fff;\n  :hover,\n  :focus {\n    outline: 2px solid #fff;\n  }\n"]))),W=N.ZP.li(v||(v=(0,k.Z)(["\n  display: flex;\n  margin: 12px;\n  border-bottom: 1px dashed #000000a6;\n"]))),q=N.ZP.form(y||(y=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n"])));var T,M,$=function(n){var e=n.name,t=n.number,r=n.id,o=(0,i.Nt)(),u=(0,s.Z)(o,2),h=u[0],p=u[1].isLoading,m=(0,i.wv)(),f=(0,s.Z)(m,2),x=f[0],b=f[1],g=(0,d.useState)(!1),v=(0,s.Z)(g,2),y=v[0],Z=v[1],C=(0,d.useState)(e),k=(0,s.Z)(C,2),N=k[0],I=k[1],P=(0,d.useState)(t),L=(0,s.Z)(P,2),S=L[0],T=L[1],M=(0,i.wY)().data,$=function(){return Z(!1)},D=function(){var n=(0,j.Z)(w().mark((function n(t){var a;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),n.prev=1,null===M||void 0===M||!M.find((function(n){return n.name.toLowerCase()===N.toLowerCase()}))){n.next=5;break}return c.Notify.failure("".concat(N," is already in contacts")),n.abrupt("return");case 5:return a={name:N,number:S},n.next=8,x({contact:a,id:r});case 8:b.isSuccess||(c.Notify.success("contact ".concat(e," has changed successfully")),$()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(b.error);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}();return(0,a.jsxs)(W,{children:[e,": ",t,(0,a.jsx)(F,{type:"button",onClick:function(){return Z(!0)},children:"Update"}),(0,a.jsx)(F,{type:"button",disabled:p,onClick:function(){return h(r)},children:p?(0,a.jsx)(l.iT,{ariaLabel:"loading-indicator",height:10,width:16,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Delete"}),y&&(0,a.jsx)(_,{onClose:$,children:(0,a.jsxs)(q,{onSubmit:D,children:[(0,a.jsxs)(z,{htmlFor:"name",children:["Name",(0,a.jsx)(A,{value:N,onChange:function(n){return I(n.target.value)},type:"text",name:"name",placeholder:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:"name"})]}),(0,a.jsxs)(z,{htmlFor:"number",children:["Number",(0,a.jsx)(A,{value:S,onChange:function(n){return T(n.target.value)},id:"number",placeholder:t,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,a.jsx)(F,{type:"submit",disabled:p,children:b.isLoading?(0,a.jsx)(l.iT,{ariaLabel:"loading-indicator",height:16,width:48,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Change contact"})]})})]})},D=function(n){var e=n.data,t=(0,d.useMemo)((function(){var n=e.slice();return n.sort((function(n,e){return n.name.localeCompare(e.name)})),n}),[e]);return(0,a.jsx)("ul",{children:t.map((function(n){return(0,a.jsx)($,{name:n.name,number:n.number,id:n.id},n.id)}))})},Y=N.ZP.label(T||(T=(0,k.Z)(["\n  color: #f8e3e0;\n  margin-right: 24px;\n"]))),B=N.ZP.input(M||(M=(0,k.Z)(["\n  margin-right: 24px;\n  margin-bottom: 24px;\n"]))),J=t(6895),U=function(){var n=(0,r.I0)(),e=(0,r.v9)(J.$N);return(0,a.jsx)("div",{children:(0,a.jsxs)(Y,{htmlFor:"filterId",children:[(0,a.jsx)(B,{name:"filter",value:e,onChange:function(e){n((0,J.M6)(e.currentTarget.value))},id:"filterId",type:"text"}),"Find contacts by name"]})})},E=function(){var n=(0,i.wY)().data,e=(0,r.v9)(J.$N);return(0,a.jsxs)("div",{children:[(0,a.jsx)(o,{title:"Phonebook",children:(0,a.jsx)(h,{})}),(null===n||void 0===n?void 0:n.length)>0&&(0,a.jsxs)(o,{title:"Contacts",children:[(0,a.jsx)(U,{}),n.length>0?(0,a.jsx)(D,{data:function(){if(""===e)return n;var t=e.toLowerCase().trim();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))}()}):(0,a.jsx)("p",{children:"No any contact"})]})]})}}}]);
//# sourceMappingURL=367.70d655f3.chunk.js.map